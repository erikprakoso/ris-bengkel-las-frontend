---

---

<div
    class="px-4 md:px-10 lg:px-40 pt-20 pb-10 flex justify-center bg-background-light"
    id="portofolio"
>
    <div class="flex flex-col max-w-[960px] w-full gap-8">
        <div
            class="flex flex-col md:flex-row justify-between items-end gap-4 border-b border-border pb-6"
            data-aos="fade-up"
        >
            <div>
                <h2 class="text-slate-900 text-3xl font-bold">Galeri Proyek</h2>
                <p class="text-slate-600 mt-2">
                    Hasil pengerjaan asli dari tim kami.
                </p>
            </div>
            <div
                class="flex gap-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto"
                id="portfolio-filters"
            >
                <button
                    class="filter-btn active px-4 py-2 rounded-full bg-primary text-white text-sm font-bold whitespace-nowrap transition-colors cursor-pointer"
                    data-filter="all">Semua</button
                >
                <button
                    class="filter-btn px-4 py-2 rounded-full bg-surface text-slate-600 hover:bg-surface/80 text-sm font-medium whitespace-nowrap transition-colors cursor-pointer"
                    data-filter="kanopi">Kanopi</button
                >
                <button
                    class="filter-btn px-4 py-2 rounded-full bg-surface text-slate-600 hover:bg-surface/80 text-sm font-medium whitespace-nowrap transition-colors cursor-pointer"
                    data-filter="pagar">Pagar</button
                >
                <button
                    class="filter-btn px-4 py-2 rounded-full bg-surface text-slate-600 hover:bg-surface/80 text-sm font-medium whitespace-nowrap transition-colors cursor-pointer"
                    data-filter="konstruksi">Konstruksi</button
                >
            </div>
        </div>

        <div
            class="grid grid-cols-2 md:grid-cols-4 gap-4 auto-rows-[200px]"
            id="portfolio-grid"
            data-aos="fade-up"
            data-aos-delay="200"
        >
            <!-- Large Item -->
            <div
                class="portfolio-item col-span-2 row-span-2 rounded-lg overflow-hidden relative group"
                data-category="kanopi"
                data-layout="large"
            >
                <div
                    class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all z-10 flex items-end p-6"
                >
                    <div
                        class="transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300"
                    >
                        <span
                            class="text-primary text-xs font-bold uppercase tracking-wider"
                            >Proyek Kanopi</span
                        >
                        <h4 class="text-white font-bold text-lg">
                            Kanopi Industrial Cafe
                        </h4>
                    </div>
                </div>
                <div
                    class="w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105"
                    data-alt="Large industrial canopy installation for a commercial cafe"
                    style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBLNtmLrwyelnlzDmVN_lfhqAcLbxngqfVpiuNLFAeuL6AtSNjWphCvTTqE2-0bF6CtAhcHZqhQOzf4Gj_M08hVKcRciat4rdXRJXJCxd7LVpwgFNNoOHqbz5UjlmFEsGpBdMsUSV0GBPJ__Pxy9tWuukyD6waaBljCiaLaCfy-mM57_cWclGOzFg8dlzf_1gqF177t6aaSsfTLrK8f77avmVqG-nGfOEmGs5E_ozoTCwV-2lf9tvGxhlI4eiK-h_rnXZn6IP5D3Q");'
                >
                </div>
            </div>

            <!-- Regular Item -->
            <div
                class="portfolio-item col-span-1 row-span-1 rounded-lg overflow-hidden relative group"
                data-category="pagar"
                data-layout="regular"
            >
                <div
                    class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all z-10 flex items-end p-6"
                >
                    <div
                        class="transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300"
                    >
                        <span
                            class="text-primary text-xs font-bold uppercase tracking-wider"
                            >Proyek Pagar</span
                        >
                        <h4 class="text-white font-bold text-lg">
                            Pagar Minimalis
                        </h4>
                    </div>
                </div>
                <div
                    class="w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105"
                    data-alt="Detail shot of a minimalist iron fence welding joint"
                    style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDLdCZ_lr4UuF9sSc6Gc8GsaJbTg8JJO5NSu_Vp85W7Qky4sSBhuH66baYB3ESc7jXUCzmBqAFEfYI8qDakMG7VHbYnQ_D2TJAc5siIrvGgTxCrpP7tJjeTIedNs6UmEZ4TqBvbzxKcHdboOYQxLyOKiqdy1HJ87Q6NPz-8xDi6Jz3qB4hccjrfyT6HhaeUTd01vgI7MvVyJTIqTH9zhf6VzIpaBsD1T_GIw5uC3AKOx1LsJSlwtbRKvGtK6iwsW_kX2kCP0TtrPg");'
                >
                </div>
            </div>

            <!-- Regular Item -->
            <div
                class="portfolio-item col-span-1 row-span-1 rounded-lg overflow-hidden relative group"
                data-category="pagar"
                data-layout="regular"
            >
                <div
                    class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all z-10 flex items-end p-6"
                >
                    <div
                        class="transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300"
                    >
                        <span
                            class="text-primary text-xs font-bold uppercase tracking-wider"
                            >Proyek Pagar</span
                        >
                        <h4 class="text-white font-bold text-lg">
                            Folding Gate
                        </h4>
                    </div>
                </div>
                <div
                    class="w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105"
                    data-alt="Modern folding gate installation"
                    style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCW8MBZoE56vDDnulZtNSREX0yqWA5tHdcty4JxJ3HZgQNCybTHQzoq-HzJseDGfGrFkU1AqT8KNCt3kQkRe96rum4iPhdeiqUEAcFD03D9EEJQHGhT-krh0TNTQLNz2iFiamiBlcDnfwHNmn7D0i72a2VoiFBlMOhNlVtkYQZVFpOmLLex5JRQmM7xaIiYwmJBV1KLWNVs1VgLk4Z7bwC8W1YcjHUi8IpToGJn0m53E_Put9f27_9B2c1aLq7nP2RqXQ5Vge1GnA");'
                >
                </div>
            </div>

            <!-- Wide Item -->
            <div
                class="portfolio-item col-span-2 row-span-1 rounded-lg overflow-hidden relative group"
                data-category="konstruksi"
                data-layout="wide"
            >
                <div
                    class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all z-10 flex items-end p-6"
                >
                    <div
                        class="transform translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300"
                    >
                        <span
                            class="text-primary text-xs font-bold uppercase tracking-wider"
                            >Proyek Tangga</span
                        >
                        <h4 class="text-white font-bold text-lg">
                            Railing Tangga Melayang
                        </h4>
                    </div>
                </div>
                <div
                    class="w-full h-full bg-cover bg-center transition-transform duration-700 group-hover:scale-105"
                    data-alt="Floating staircase railing with black steel finish"
                    style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCzuW0ZlcooiRYbbE3Qa1vVBEa-CX0JE5Nmql6TTVVHobWFQvo3Ft11FsjG-X9HKqoEBSX1mlxVZOMIC-TeILfeuZRBoUSzMOyAXjq5CFIHr-QMm565UcZOxYYqE_uv3yJICrNbhz1QtLbptrPLgAWRqStD1i5ni6ME-UtfsoD9ybeQtPKtQNeFSep2y0xOMkzIeAcj6859m0g7cPVAIfligsmJl_EYr9smvcwz_ALhL7m3lY0McDzLhXnjG5tZQOHw6gIeaZV6-A");'
                >
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const filterBtns = document.querySelectorAll(".filter-btn");
    const portfolioItems = document.querySelectorAll(".portfolio-item");

    // Style classes
    const activeClasses = ["bg-primary", "text-white", "font-bold"];
    const inactiveClasses = [
        "bg-surface",
        "text-slate-600",
        "hover:bg-surface/80",
        "font-medium",
    ];

    function setActiveButton(clickedBtn: Element) {
        filterBtns.forEach((btn) => {
            btn.classList.remove(...activeClasses);
            btn.classList.add(...inactiveClasses);
        });

        clickedBtn.classList.remove(...inactiveClasses);
        clickedBtn.classList.add(...activeClasses);
    }

    // Helper to reset layout classes for 'all'
    function resetLayout(item: Element) {
        const layout = item.getAttribute("data-layout");
        item.classList.remove(
            "col-span-1",
            "row-span-1",
            "md:col-span-1",
            "md:row-span-1",
        );

        if (layout === "large") {
            item.classList.add("col-span-2", "row-span-2");
        } else if (layout === "wide") {
            item.classList.add("col-span-2", "row-span-1");
        } else {
            item.classList.add("col-span-1", "row-span-1");
        }
    }

    // Helper to standardize layout for filtered view (REMOVED - User wants original sizes)
    // function standardizeLayout(item: Element) { ... }

    if (filterBtns.length > 0) {
        // Set initial active state
        setActiveButton(filterBtns[0]);

        filterBtns.forEach((btn) => {
            btn.addEventListener("click", () => {
                setActiveButton(btn);

                const filterValue = btn.getAttribute("data-filter");

                portfolioItems.forEach((item) => {
                    const itemCategory = item.getAttribute("data-category");

                    if (filterValue === "all" || filterValue === itemCategory) {
                        item.classList.remove("hidden");
                        item.classList.add("animate-fade-in");
                        // Always restore original layout size (Large remains Large)
                        resetLayout(item);
                    } else {
                        item.classList.add("hidden");
                        item.classList.remove("animate-fade-in");
                    }
                });
            });
        });
    }
</script>
